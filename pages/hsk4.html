<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSK4 Test - Aloha School</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/test-pages.css">
</head>
<body>
    <!-- Test Page -->
    <div class="test-page show" id="testPage">
        <div class="test-container">
            <div class="test-header">
                <div class="question-progress">
                    <div class="progress-counter" id="questionCounter">Ph·∫ßn 1: Nghe</div>
                    <div class="progress-circles">
                        <div class="progress-row">
                            <div class="circle">1</div>
                            <div class="circle">2</div>
                            <div class="circle">3</div>
                            <div class="circle">4</div>
                            <div class="circle">5</div>
                        </div>
                    </div>
                </div>
                <div class="timer-section">
                    <div class="timer-icon">‚è±Ô∏è</div>
                    <div class="timer-display" id="timerDisplay">60:00</div>
                </div>
            </div>

            <div class="question-card" id="questionsContainer">
                <!-- Questions will be dynamically rendered here -->
            </div>

            <div class="question-nav">
                <button class="nav-button btn-submit" id="btnSubmit" style="display: none;">N·ªòP B√ÄI</button>
                <button class="nav-button btn-next-section" id="btnNextSection">Ti·∫øp theo ‚Üí</button>
            </div>
            <div class="page-info" id="pageInfo">Ph·∫ßn 1/3 - Nghe</div>
        </div>
    </div>

    <!-- Result Page -->
    <div class="result-page" id="resultPage">
        <div class="result-container">
            <!-- Spiral Binding -->
            <div class="spiral-binding">
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
                <div class="spiral-hole"></div>
            </div>

            <div class="result-logo">
                <div class="logo-lines">
                    <div class="logo-line"></div>
                    <div class="logo-line"></div>
                    <div class="logo-line"></div>
                </div>
            </div>

            <div class="result-content">
                <h1 class="result-title-new">CH√öC M·ª™NG B·∫†N ƒê√É HO√ÄN TH√ÄNH B√ÄI THI HSK4</h1>

                <div class="result-card">
                    <div class="result-info">
                        <strong>H·ªç v√† t√™n:</strong> <span id="resultName"></span>
                    </div>
                    <div class="result-info">
                        <strong>Tr√¨nh ƒë·ªô:</strong> <span id="resultLevel"></span>
                    </div>
                    <div class="result-info">
                        <strong>Th·ªùi gian ho√†n th√†nh:</strong> <span id="completionTime"></span>
                    </div>
                    <div class="result-info">
                        <strong>ƒêi·ªÉm s·ªë:</strong> <span id="finalScore"></span>/<span id="totalQuestions"></span>
                    </div>
                    <div class="result-info">
                        <strong>ƒê√°nh gi√°:</strong> <span id="levelBadge"></span>
                    </div>
                </div>

                <div class="completion-message">
                    <p>
                        Ch√∫c m·ª´ng b·∫°n ƒë√£ ho√†n th√†nh b√†i thi <strong>HSK4 Placement Test</strong> c√πng v·ªõi ALOHA.
                    </p>
                    <p>
                        B·ªô ph·∫≠n T∆∞ v·∫•n Tuy·ªÉn sinh ALOHA s·∫Ω li√™n h·ªá b·∫°n trong th·ªùi gian s·ªõm nh·∫•t ƒë·ªÉ tr·∫£ k·∫øt qu·∫£ b√†i test v√† t∆∞ v·∫•n l·ªô tr√¨nh h·ªçc ph√π h·ª£p.
                    </p>
                    <p id="resultMessage">
                    </p>
                </div>

                <!-- Answers Grid -->
                <div class="answers-grid">
                    <div class="answers-section">
                        <h3>üìä K·∫øt qu·∫£ chi ti·∫øt</h3>
                        <div class="answers-grid-container">
                            <div class="answers-subsection">
                                <h4>üéß Ph·∫ßn Nghe</h4>
                                <div class="answers-grid" id="listeningGrid">
                                    <!-- Listening answers will be rendered here -->
                                </div>
                            </div>
                            <div class="answers-subsection">
                                <h4>üìñ Ph·∫ßn ƒê·ªçc</h4>
                                <div class="answers-grid" id="readingGrid">
                                    <!-- Reading answers will be rendered here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="result-buttons">
                    <button class="btn-result home" id="btnFinish"><span>Ho√†n t·∫•t</span></button>
                </div>

                <!-- AI Feedback Section -->
                <div class="ai-feedback-section" id="aiFeedbackSection" style="display: none;">
                    <div class="ai-feedback-header">
                        <h3>ü§ñ Nh·∫≠n x√©t AI cho ph·∫ßn vi·∫øt</h3>
                    </div>
                    <div class="ai-feedback-content" id="aiFeedbackContent">
                        <!-- AI feedback will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script type="module" src="../assets/js/supabase-config.js"></script>
    <script type="module" src="../assets/js/api-functions.js"></script>
    <script type="module" src="../assets/js/audio-handler.js"></script>
    <script type="module" src="../assets/js/timer-functions.js"></script>
    <script type="module" src="../assets/js/section-display.js"></script>
    <script type="module" src="../assets/js/test-scoring.js"></script>
    <script type="module" src="../assets/js/result-display.js"></script>
    <script type="module" src="../assets/js/hsk4-test.js"></script>
</body>
</html>